--- ./plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh~	2009-10-25 09:34:55.000000000 +0100
+++ ./plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh	2009-10-29 20:40:31.000000000 +0100
@@ -55,11 +55,24 @@
 if [ "${MODEL}" = "" ]; then
 	if uname -i > /dev/null 2>&1; then
 		MODEL=`uname -i`
-	else
+	fi
+	if [ "${MODEL}" = "unknown" ]; then
 		MODEL=`uname -m`
 	fi
 fi
 case $MODEL in
+	arm*)
+		MODEL=arm ;;
+	parisc*)
+		MODEL=PA_RISC ;;
+	sparcv9)
+		MODEL=sparc ;;
+	mips*)
+		if which dpkg-architecture >/dev/null 2>&1; then
+			MODEL=`dpkg-architecture -q-qDEB_HOST_ARCH`
+		fi
+esac
+case $MODEL in
 	"x86_64")
 		SWT_ARCH=x86_64
 		AWT_ARCH=amd64
@@ -75,7 +86,7 @@
 esac
 
 # For 64-bit CPUs, we have a switch
-if [ ${MODEL} = 'x86_64' -o ${MODEL} = 'ppc64' -o ${MODEL} = 'ia64' -o ${MODEL} = 's390x' ]; then
+if [ ${MODEL} = 'x86_64' -o ${MODEL} = 'ppc64' -o ${MODEL} = 'ia64' -o ${MODEL} = 's390x' -o ${MODEL} = 'alpha' ]; then
 	SWT_PTR_CFLAGS=-DJNI64
 	export SWT_PTR_CFLAGS
 	if [ -d /lib64 ]; then

